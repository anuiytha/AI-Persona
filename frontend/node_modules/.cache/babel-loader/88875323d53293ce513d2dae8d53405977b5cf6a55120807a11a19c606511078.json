{"ast":null,"code":"import React,{useState,useEffect}from'react';import Sidebar from'./components/Sidebar';import ChatInterface from'./components/ChatInterface';import DocumentUpload from'./components/DocumentUpload';import{getStats}from'./services/api';import'./App.css';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";function App(){const[activeTab,setActiveTab]=useState('chat');const[stats,setStats]=useState({totalDocuments:0,vectorStoreStatus:'inactive'});useEffect(()=>{loadStats();},[]);const loadStats=async()=>{try{const statsData=await getStats();setStats(statsData);}catch(error){console.error('Failed to load stats:',error);}};const handleTabChange=tab=>{setActiveTab(tab);};const handleDocumentUploaded=()=>{loadStats();// Refresh stats after upload\n};const renderContent=()=>{switch(activeTab){case'chat':return/*#__PURE__*/_jsx(ChatInterface,{});case'upload':return/*#__PURE__*/_jsx(DocumentUpload,{onUploaded:handleDocumentUploaded});case'stats':return/*#__PURE__*/_jsxs(\"div\",{className:\"stats-container\",children:[/*#__PURE__*/_jsx(\"h2\",{children:\"Knowledge Base Statistics\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"stats-grid\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"stat-card\",children:[/*#__PURE__*/_jsx(\"h3\",{children:\"Total Documents\"}),/*#__PURE__*/_jsx(\"p\",{className:\"stat-number\",children:stats.totalDocuments})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"stat-card\",children:[/*#__PURE__*/_jsx(\"h3\",{children:\"Vector Store Status\"}),/*#__PURE__*/_jsx(\"p\",{className:\"stat-status \".concat(stats.vectorStoreStatus),children:stats.vectorStoreStatus})]})]})]});default:return/*#__PURE__*/_jsx(ChatInterface,{});}};return/*#__PURE__*/_jsxs(\"div\",{className:\"app\",children:[/*#__PURE__*/_jsx(Sidebar,{activeTab:activeTab,onTabChange:handleTabChange,stats:stats}),/*#__PURE__*/_jsx(\"main\",{className:\"main-content\",children:renderContent()})]});}export default App;","map":{"version":3,"names":["React","useState","useEffect","Sidebar","ChatInterface","DocumentUpload","getStats","jsx","_jsx","jsxs","_jsxs","App","activeTab","setActiveTab","stats","setStats","totalDocuments","vectorStoreStatus","loadStats","statsData","error","console","handleTabChange","tab","handleDocumentUploaded","renderContent","onUploaded","className","children","concat","onTabChange"],"sources":["C:/Anushka/FSD Projects/AI Persona/persona-ai/frontend/src/App.tsx"],"sourcesContent":["import React, { useState, useEffect } from 'react';\r\nimport Sidebar from './components/Sidebar';\r\nimport ChatInterface from './components/ChatInterface';\r\nimport DocumentUpload from './components/DocumentUpload';\r\nimport { getStats } from './services/api';\r\nimport './App.css';\r\n\r\ntype TabType = 'chat' | 'upload' | 'stats';\r\n\r\ninterface Stats {\r\n    totalDocuments: number;\r\n    vectorStoreStatus: string;\r\n}\r\n\r\nfunction App() {\r\n    const [activeTab, setActiveTab] = useState<TabType>('chat');\r\n    const [stats, setStats] = useState<Stats>({\r\n        totalDocuments: 0,\r\n        vectorStoreStatus: 'inactive'\r\n    });\r\n\r\n    useEffect(() => {\r\n        loadStats();\r\n    }, []);\r\n\r\n    const loadStats = async () => {\r\n        try {\r\n            const statsData = await getStats();\r\n            setStats(statsData);\r\n        } catch (error) {\r\n            console.error('Failed to load stats:', error);\r\n        }\r\n    };\r\n\r\n    const handleTabChange = (tab: TabType) => {\r\n        setActiveTab(tab);\r\n    };\r\n\r\n    const handleDocumentUploaded = () => {\r\n        loadStats(); // Refresh stats after upload\r\n    };\r\n\r\n    const renderContent = () => {\r\n        switch (activeTab) {\r\n            case 'chat':\r\n                return <ChatInterface />;\r\n            case 'upload':\r\n                return <DocumentUpload onUploaded={handleDocumentUploaded} />;\r\n            case 'stats':\r\n                return (\r\n                    <div className=\"stats-container\">\r\n                        <h2>Knowledge Base Statistics</h2>\r\n                        <div className=\"stats-grid\">\r\n                            <div className=\"stat-card\">\r\n                                <h3>Total Documents</h3>\r\n                                <p className=\"stat-number\">{stats.totalDocuments}</p>\r\n                            </div>\r\n                            <div className=\"stat-card\">\r\n                                <h3>Vector Store Status</h3>\r\n                                <p className={`stat-status ${stats.vectorStoreStatus}`}>\r\n                                    {stats.vectorStoreStatus}\r\n                                </p>\r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n                );\r\n            default:\r\n                return <ChatInterface />;\r\n        }\r\n    };\r\n\r\n    return (\r\n        <div className=\"app\">\r\n            <Sidebar\r\n                activeTab={activeTab}\r\n                onTabChange={handleTabChange}\r\n                stats={stats}\r\n            />\r\n            <main className=\"main-content\">\r\n                {renderContent()}\r\n            </main>\r\n        </div>\r\n    );\r\n}\r\n\r\nexport default App;\r\n"],"mappings":"AAAA,MAAO,CAAAA,KAAK,EAAIC,QAAQ,CAAEC,SAAS,KAAQ,OAAO,CAClD,MAAO,CAAAC,OAAO,KAAM,sBAAsB,CAC1C,MAAO,CAAAC,aAAa,KAAM,4BAA4B,CACtD,MAAO,CAAAC,cAAc,KAAM,6BAA6B,CACxD,OAASC,QAAQ,KAAQ,gBAAgB,CACzC,MAAO,WAAW,CAAC,OAAAC,GAAA,IAAAC,IAAA,CAAAC,IAAA,IAAAC,KAAA,yBASnB,QAAS,CAAAC,GAAGA,CAAA,CAAG,CACX,KAAM,CAACC,SAAS,CAAEC,YAAY,CAAC,CAAGZ,QAAQ,CAAU,MAAM,CAAC,CAC3D,KAAM,CAACa,KAAK,CAAEC,QAAQ,CAAC,CAAGd,QAAQ,CAAQ,CACtCe,cAAc,CAAE,CAAC,CACjBC,iBAAiB,CAAE,UACvB,CAAC,CAAC,CAEFf,SAAS,CAAC,IAAM,CACZgB,SAAS,CAAC,CAAC,CACf,CAAC,CAAE,EAAE,CAAC,CAEN,KAAM,CAAAA,SAAS,CAAG,KAAAA,CAAA,GAAY,CAC1B,GAAI,CACA,KAAM,CAAAC,SAAS,CAAG,KAAM,CAAAb,QAAQ,CAAC,CAAC,CAClCS,QAAQ,CAACI,SAAS,CAAC,CACvB,CAAE,MAAOC,KAAK,CAAE,CACZC,OAAO,CAACD,KAAK,CAAC,uBAAuB,CAAEA,KAAK,CAAC,CACjD,CACJ,CAAC,CAED,KAAM,CAAAE,eAAe,CAAIC,GAAY,EAAK,CACtCV,YAAY,CAACU,GAAG,CAAC,CACrB,CAAC,CAED,KAAM,CAAAC,sBAAsB,CAAGA,CAAA,GAAM,CACjCN,SAAS,CAAC,CAAC,CAAE;AACjB,CAAC,CAED,KAAM,CAAAO,aAAa,CAAGA,CAAA,GAAM,CACxB,OAAQb,SAAS,EACb,IAAK,MAAM,CACP,mBAAOJ,IAAA,CAACJ,aAAa,GAAE,CAAC,CAC5B,IAAK,QAAQ,CACT,mBAAOI,IAAA,CAACH,cAAc,EAACqB,UAAU,CAAEF,sBAAuB,CAAE,CAAC,CACjE,IAAK,OAAO,CACR,mBACId,KAAA,QAAKiB,SAAS,CAAC,iBAAiB,CAAAC,QAAA,eAC5BpB,IAAA,OAAAoB,QAAA,CAAI,2BAAyB,CAAI,CAAC,cAClClB,KAAA,QAAKiB,SAAS,CAAC,YAAY,CAAAC,QAAA,eACvBlB,KAAA,QAAKiB,SAAS,CAAC,WAAW,CAAAC,QAAA,eACtBpB,IAAA,OAAAoB,QAAA,CAAI,iBAAe,CAAI,CAAC,cACxBpB,IAAA,MAAGmB,SAAS,CAAC,aAAa,CAAAC,QAAA,CAAEd,KAAK,CAACE,cAAc,CAAI,CAAC,EACpD,CAAC,cACNN,KAAA,QAAKiB,SAAS,CAAC,WAAW,CAAAC,QAAA,eACtBpB,IAAA,OAAAoB,QAAA,CAAI,qBAAmB,CAAI,CAAC,cAC5BpB,IAAA,MAAGmB,SAAS,gBAAAE,MAAA,CAAiBf,KAAK,CAACG,iBAAiB,CAAG,CAAAW,QAAA,CAClDd,KAAK,CAACG,iBAAiB,CACzB,CAAC,EACH,CAAC,EACL,CAAC,EACL,CAAC,CAEd,QACI,mBAAOT,IAAA,CAACJ,aAAa,GAAE,CAAC,CAChC,CACJ,CAAC,CAED,mBACIM,KAAA,QAAKiB,SAAS,CAAC,KAAK,CAAAC,QAAA,eAChBpB,IAAA,CAACL,OAAO,EACJS,SAAS,CAAEA,SAAU,CACrBkB,WAAW,CAAER,eAAgB,CAC7BR,KAAK,CAAEA,KAAM,CAChB,CAAC,cACFN,IAAA,SAAMmB,SAAS,CAAC,cAAc,CAAAC,QAAA,CACzBH,aAAa,CAAC,CAAC,CACd,CAAC,EACN,CAAC,CAEd,CAEA,cAAe,CAAAd,GAAG","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}